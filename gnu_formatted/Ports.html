<a name="Ports"></a>
<div class="header">
<p>
Next: <a href="Services-Database.html#Services-Database" accesskey="n" rel="next">Services Database</a>, Previous: <a href="Host-Addresses.html#Host-Addresses" accesskey="p" rel="prev">Host Addresses</a>, Up: <a href="Internet-Namespace.html#Internet-Namespace" accesskey="u" rel="up">Internet Namespace</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Internet-Ports"></a>
<h4 class="subsection">16.6.3 Internet Ports</h4>
<a name="index-port-number"></a>

<p>A socket address in the Internet namespace consists of a machine&rsquo;s
Internet address plus a <em>port number</em> which distinguishes the
sockets on a given machine (for a given protocol).  Port numbers range
from 0 to 65,535.
</p>
<p>Port numbers less than <code>IPPORT_RESERVED</code> are reserved for standard
servers, such as <code>finger</code> and <code>telnet</code>.  There is a database
that keeps track of these, and you can use the <code>getservbyname</code>
function to map a service name onto a port number; see <a href="Services-Database.html#Services-Database">Services Database</a>.
</p>
<p>If you write a server that is not one of the standard ones defined in
the database, you must choose a port number for it.  Use a number
greater than <code>IPPORT_USERRESERVED</code>; such numbers are reserved for
servers and won&rsquo;t ever be generated automatically by the system.
Avoiding conflicts with servers being run by other users is up to you.
</p>
<p>When you use a socket without specifying its address, the system
generates a port number for it.  This number is between
<code>IPPORT_RESERVED</code> and <code>IPPORT_USERRESERVED</code>.
</p>
<p>On the Internet, it is actually legitimate to have two different
sockets with the same port number, as long as they never both try to
communicate with the same socket address (host address plus port
number).  You shouldn&rsquo;t duplicate a port number except in special
circumstances where a higher-level protocol requires it.  Normally,
the system won&rsquo;t let you do it; <code>bind</code> normally insists on
distinct port numbers.  To reuse a port number, you must set the
socket option <code>SO_REUSEADDR</code>.  See <a href="Socket_002dLevel-Options.html#Socket_002dLevel-Options">Socket-Level Options</a>.
</p>
<a name="index-netinet_002fin_002eh-2"></a>
<p>These macros are defined in the header file <samp>netinet/in.h</samp>.
</p>
<dl>
<dt><a name="index-IPPORT_005fRESERVED"></a>Macro: <em>int</em> <strong>IPPORT_RESERVED</strong></dt>
<dd><p>Port numbers less than <code>IPPORT_RESERVED</code> are reserved for
superuser use.
</p></dd></dl>

<dl>
<dt><a name="index-IPPORT_005fUSERRESERVED"></a>Macro: <em>int</em> <strong>IPPORT_USERRESERVED</strong></dt>
<dd><p>Port numbers greater than or equal to <code>IPPORT_USERRESERVED</code> are
reserved for explicit use; they will never be allocated automatically.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Services-Database.html#Services-Database" accesskey="n" rel="next">Services Database</a>, Previous: <a href="Host-Addresses.html#Host-Addresses" accesskey="p" rel="prev">Host Addresses</a>, Up: <a href="Internet-Namespace.html#Internet-Namespace" accesskey="u" rel="up">Internet Namespace</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>



